<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Headless Pi MPV Player</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üé¨ Headless Pi MPV Player</h1>
            <p class="subtitle">Enhanced Edition</p>
        </header>

        <!-- Status Display -->
        <div class="status-card">
            <h2>Player Status</h2>
            <div class="status-grid">
                <div class="status-item">
                    <span class="status-label">State:</span>
                    <span id="status-state" class="status-value">Stopped</span>
                </div>
                <div class="status-item">
                    <span class="status-label">File:</span>
                    <span id="status-file" class="status-value">None</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Position:</span>
                    <span id="status-position" class="status-value">0:00</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Duration:</span>
                    <span id="status-duration" class="status-value">0:00</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Volume:</span>
                    <span id="status-volume" class="status-value">100</span>
                </div>
            </div>
            
            <!-- Progress Bar -->
            <div class="progress-container">
                <div id="progress-bar" class="progress-bar"></div>
            </div>
        </div>

        <!-- Playback Controls -->
        <div class="control-card">
            <h2>Playback Controls</h2>
            
            <!-- Main Controls -->
            <div class="button-group">
                <button id="btn-play" class="btn btn-primary">‚ñ∂ Play</button>
                <button id="btn-pause" class="btn btn-secondary">‚è∏ Pause</button>
                <button id="btn-stop" class="btn btn-danger">‚èπ Stop</button>
            </div>

            <!-- Skip Controls -->
            <div class="button-group">
                <button id="btn-skip-back-30" class="btn btn-skip">‚è™ 30s</button>
                <button id="btn-skip-back-10" class="btn btn-skip">‚è™ 10s</button>
                <button id="btn-skip-forward-10" class="btn btn-skip">10s ‚è©</button>
                <button id="btn-skip-forward-30" class="btn btn-skip">30s ‚è©</button>
            </div>

            <!-- Custom Skip -->
            <div class="input-group">
                <label for="custom-skip">Custom Skip (seconds):</label>
                <input type="number" id="custom-skip" value="5" min="-3600" max="3600">
                <button id="btn-custom-skip" class="btn btn-secondary">Skip</button>
            </div>

            <!-- Seek Position -->
            <div class="input-group">
                <label for="seek-position">Seek to Position (seconds):</label>
                <input type="number" id="seek-position" value="0" min="0">
                <button id="btn-seek" class="btn btn-secondary">Seek</button>
            </div>

            <!-- Volume Control -->
            <div class="input-group">
                <label for="volume-control">Volume (0-150):</label>
                <input type="range" id="volume-control" min="0" max="150" value="100" step="1">
                <span id="volume-display">100</span>
                <button id="btn-set-volume" class="btn btn-secondary">Set</button>
            </div>
        </div>

        <!-- HDMI Output Selection -->
        <div class="control-card">
            <h2>HDMI Output</h2>
            <div class="input-group">
                <label for="hdmi-output">Output:</label>
                <select id="hdmi-output" class="select-control">
                    <option value="auto">Auto</option>
                    <option value="HDMI-A-1">HDMI-A-1</option>
                    <option value="HDMI-A-2">HDMI-A-2</option>
                </select>
                <button id="btn-set-hdmi" class="btn btn-secondary">Apply</button>
            </div>
        </div>

        <!-- File Management -->
        <div class="control-card">
            <h2>Media Files</h2>
            
            <!-- File Upload -->
            <div class="upload-section">
                <h3>Upload Video</h3>
                <div class="input-group">
                    <input type="file" id="file-upload" accept="video/*,.mp4,.avi,.mkv,.mov,.wmv,.flv,.webm,.m4v,.mpg,.mpeg,.3gp,.ogv">
                    <button id="btn-upload" class="btn btn-primary">Upload</button>
                </div>
                <div id="upload-progress" class="upload-progress" style="display: none;">
                    <div class="progress-container">
                        <div id="upload-progress-bar" class="progress-bar"></div>
                    </div>
                    <span id="upload-status">Uploading...</span>
                </div>
            </div>

            <!-- File List -->
            <div class="file-list-section">
                <h3>Available Files</h3>
                <button id="btn-refresh-files" class="btn btn-secondary btn-small">üîÑ Refresh</button>
                <div id="file-list" class="file-list">
                    <p class="loading">Loading files...</p>
                </div>
            </div>
        </div>

        <!-- System Info -->
        <div class="control-card">
            <h2>System Information</h2>
            <div class="system-info">
                <div class="info-item">
                    <span class="info-label">Disk Space:</span>
                    <span id="disk-free" class="info-value">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Status:</span>
                    <span id="health-status" class="info-value">Checking...</span>
                </div>
            </div>
        </div>

        <!-- Notifications -->
        <div id="notification" class="notification"></div>

        <footer>
            <p>Headless Pi MPV Player - Enhanced Edition</p>
            <p>
                <a href="https://github.com/keep-on-walking/Headless-Pi-MPV-Player-Enhanced-Edition" target="_blank">
                    GitHub Repository
                </a>
            </p>
        </footer>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
